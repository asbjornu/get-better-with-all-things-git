<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Get Better With All Things Git</title>
    <link rel="stylesheet" href="bower_components/reveal.js/css/reveal.css">
    <link rel="stylesheet" href="bower_components/reveal.js/css/theme/black.css">
    <link rel="stylesheet" href="css/custom.css">
    <link rel="shortcut icon" type="image/png" href="images/network.png">
</head>

<body>
    <div class="reveal">
        <div class="slides">
            <section>
                <h2>Get Better With All Things Git</h2>

                <aside class="notes">
                    <p>
                        <a href="https://thenounproject.com/term/network/17037/">Network</a>
                        icon by <a href="https://thenounproject.com/nl_menghini/">Nicholas Menghini</a>
                        from <a href="https://thenounproject.com/">The Noun Project</a>.
                    </p>
                </aside>
            </section>

            <section data-state="about" data-background="./images/asbjornu.png" data-background-size="contain" data-background-position="bottom">
                <h2>Asbjørn Ulsberg</h2>
                <ul>
                    <li class="fragment">Not a Git expert</li>
                    <li class="fragment">Contributor to <a href="https://github.com/GitTools/GitVersion">GitVersion</a></li>
                    <li class="fragment">Demoscener, RESTafarian, programmer</li>
                    <li class="fragment"><a href="https://twitter.com/asbjornu">@asbjornu</a></li>
                </ul>

                <p class="fragment" style="margin-top: 200px"><a href="http://payex.com/"><img src="./images/payex.png" alt="PayEx"></a></p>

                <aside class="notes">
                    <ol>
                        <li>Hello, I'm Asbjørn Ulsberg and that's me in the corner.</li>
                        <li>
                            I do not contribute to the source code of Git and
                            there can be written encyclopedias on what I don't
                            know about Git.
                        </li>
                        <li>
                            But I believe it's possible to become a better
                            developer by understanding some fundamentals about
                            how Git works and not being afraid to experiment.
                        </li>
                        <li>
                            I contribute to GitVersion and a lot of other
                            open source projects on GitHub and elsewhere.
                        </li>
                    </ol>
                </aside>
            </section>

            <section data-background="./images/chemistry.jpg">
                <aside class="notes">
                    <p>
                        There's a lot of myths about Git and to some it appears
                        so difficult and complex that you need a PHD to
                        understand it.
                    </p>

                    <a href="https://www.skooli.com/2015/02/17/why-chemistry-is-so-hard">Chemistry illustraion</a>
                </aside>
            </section>

            <section>
                <a href="https://twitter.com/agnoster/status/44636629423497217">
                    <img src="./images/endofunctors-of-hilbert-space.png"
                         alt="Git gets easier once you get the basic idea that branches are homeomorphic endofunctors mapping submanifolds of a Hilbert space">
                </a>

                <aside class="notes">
                    However, Git gets easier once you get the basic idea that
                    branches are homeomorphic endofunctors mapping submanifolds
                    of a Hilbert space.
                </aside>
            </section>

            <section data-background-image="./images/wat.png">
                <h2 style="float: right; margin-top: 1em">Wat</h2>

                <aside class="notes">
                    <a href="https://imgur.com/SUrH5m5">Wat</a>
                </aside>
            </section>

            <section data-transition="fade">
                <h2>Git</h2>
                <h3>DAG</h3>

                <aside class="notes">
                    Just kidding. Git is just a DAG.
                </aside>
            </section>

            <section data-transition="fade">
                <h2>Git</h2>
                <h3>Directed Acyclic Graph</h3>

                <aside class="notes">
                    Also known as a Directed Acyclic Graph.
                </aside>
            </section>

            <section data-background-image="./images/monkey.jpg">
                <aside class="notes">
                    If you're still scratching your head, let's go back to
                    school and 3rd grade maths.
                </aside>
            </section>

            <section id="dag">
                <span class="fragment"></span>
                <span class="fragment"></span>
                <span class="fragment"></span>
                <span class="fragment"></span>
                <span class="fragment"></span>
                <span class="fragment"></span>
                <span class="fragment"></span>
                <span class="fragment"></span>
                <div class="graph"></div>

                <aside class="notes">
                    <ol>
                        <li>A graph consists of edges (or arcs).</li>
                        <li>
                            <ol>
                                <li>And nodes (or vertices).</li>
                                <li>If a graph has no direction, we call it undirected.</li>
                                <li>And, if it goes in a circle, we call it cyclic.</li>
                            </ol>
                        </li>
                        <li>To make the graph acyclic, we need to remove an edge.</li>
                        <li>And to indicate direction, we can add some arrows.</li>
                        <li>
                            <ol>
                                <li>We now have a Directed Acyclic Graph. A DAG.</li>
                                <li>A DAG is the simplest form of a graph.</li>
                                <li>Its edges points in one direction, making it directional.</li>
                                <li>Its edges will never form a circle, making it acyclic.</li>
                                <li>All nodes have edges that eventually point to the same node.</li>
                            </ol>
                        </li>
                        <li>If we give our nodes names.</li>
                        <li>
                            And then some labels pointing to them, we basically
                            have everything you need to visualize in your head
                            when working with Git.
                        </li>
                        <li>To be more Git-specific, the nodes represents commits.</li>
                        <li>And the labels represents references.</li>
                    </ol>
                </aside>
            </section>

            <section>
                <h2>Commits</h2>
                <ul>
                    <li class="fragment">
                        The change you want to record to the repository.
                    </li>
                    <li class="fragment">
                        Have at least one parent commit.
                    </li>
                    <li class="fragment">
                        <p>Have a cryptographically secure identifier</p>
                    </li>
                </ul>

                <aside class="notes">
                    <ol>
                        <li>The delta from the previous (or parent) commit</li>
                        <li>Merge commits has at least two parents, octopus merges can have more.</li>
                        <li>The ID of a commit makes merges and comparisons in Git both extremely fast and somewhat stupid</li>
                    </ol>
                </aside>
            </section>

            <section style="width: auto; margin: 0 10%;">
                <p style="font-family: monospace; margin-top: 1em; text-align: left;">
                    <span style="color: #e3ceab">const char</span>*
                    <span style="color: #efef8f">sha1</span><span style="white-space: pre">(content,
                 author,
                 date,
                 message,
                 parent_sha1);</span>
                </p>

                <p style="font-family: monospace; color: #7f9f7f; white-space: pre; text-align: left">
// 7ecd1598a3e6bb7c3c0d7cbda24e7dc</p>

                <aside class="notes">
                    <ol>
                        <li>
                            Because the hash of a commit includes the hash of its parents,
                            the whole history of a repository can be verified by comparing
                            a single commit hash.
                        </li>
                        <li>
                            <a href="http://web.archive.org/web/20120701221418/http://kerneltrap.org/mailarchive/git/2006/8/28/211065">
                                There is no problem with SHA1 collisions, since the
                                local commit won't be overwritten by a remote one.
                            </a>
                        </li>
                    </ol>
                </aside>
            </section>

            <section>
                <h2>References</h2>
                <ul>
                    <li class="fragment"><strong>Local branch</strong> reference</li>
                    <li class="fragment"><strong>Remote branch</strong> reference</li>
                    <li class="fragment"><strong>Tag</strong> reference</li>
                </ul>

                <aside class="notes">
                    <ol>
                        <li>Local branch references are specific to your local repository.</li>
                        <li>
                            <ol>
                                <li>Remote branch references are specific to a remote repository.</li>
                                <li>These do not have to match, but usually they do.</li>
                            </ol>
                        </li>
                        <li>
                            <ol>
                                <li>
                                    Tag references are like branch references,
                                    only immutable.
                                </li>
                                <li>
                                    After a tag has been created it will never
                                    change.
                                </li>
                                <li>
                                    You can, however delete it and create a new
                                    tag with the same name, pointing at another
                                    commit.
                                </li>
                                <li>
                                    Tags therefore work well to indicate version
                                    numbers and other reminders about what a
                                    given commit actually means.
                                </li>
                            </ol>
                        </li>
                        <li>
                            References are basically just 40 byte files on disk,
                            whose name is the name of the reference and content
                            is the commit ID of the commit it is pointing to.
                        </li>
                    </ol>
                </aside>
            </section>

            <section data-state="pancakes" data-transition="zoom">
                <img src="./images/stack-of-pancakes.png" alt="Stack of pancakes" class="pancake">
                <img src="./images/stack-of-pancakes.png" alt="Stack of pancakes" class="pancake">
                <span class="fragment"></span>
                <span class="fragment" data-autoslide="1000"></span>

                <aside class="notes">
                    <ol>
                        <li>
                            As we will see later, since Git maintains a
                            cryptographically verifiable graph of its commits,
                            it makes branching and merging much simpler.
                        </li>
                        <li>
                            Other version control systems like TFVS and Subversion,
                            don't store the commit history like graphs, though.
                        </li>
                        <li>
                            They store them more like a stack of pancakes.
                        </li>
                        <li>
                            And while pancakes are great and even branching
                            a stack of pancakes usually is problem free,
                            the problem arises once you try to merge the stacks
                            of pancakes.
                        </li>
                    </ol>
                </aside>
            </section>

            <section data-background="./images/pancake-fail.jpg">
                <aside class="notes">
                    Often, you end up in an epic fail situation like this.

                    <a href="https://www.flickr.com/photos/72469933@N00/4043218458/">Pancake fail</a>
                </aside>
            </section>

            <section data-state="commands">
                <p class="git-commands">
                    <span class="porcelain common">add</span>
                    <span class="porcelain">am</span>
                    <span class="porcelain">annotate</span>
                    <span class="plumbing">apply</span>
                    <span class="porcelain">archimport</span>
                    <span class="porcelain">archive</span>
                    <span class="porcelain">bisect</span>
                    <span class="porcelain">blame</span>
                    <span class="porcelain common">branch</span>
                    <span class="porcelain">bundle</span>
                    <span class="plumbing">cat-file</span>
                    <span class="plumbing">check-attr</span>
                    <span class="plumbing">check-ignore</span>
                    <span class="plumbing">check-mailmap</span>
                    <span class="plumbing">check-ref-format</span>
                    <span class="porcelain common">checkout</span>
                    <span class="plumbing">checkout-index</span>
                    <span class="porcelain">cherry</span>
                    <span class="porcelain">cherry-pick</span>
                    <span class="porcelain">citool</span>
                    <span class="porcelain">clean</span>
                    <span class="porcelain common">clone</span>
                    <span class="plumbing">column</span>
                    <span class="porcelain common">commit</span>
                    <span class="plumbing">commit-tree</span>
                    <span class="porcelain">config</span>
                    <span class="porcelain">count-objects</span>
                    <span class="plumbing">credential</span>
                    <span class="plumbing">credential-cache</span>
                    <span class="plumbing">credential-store</span>
                    <span class="porcelain">cvsexportcommit</span>
                    <span class="porcelain">cvsimport</span>
                    <span class="porcelain">cvsserver</span>
                    <span class="plumbing">daemon</span>
                    <span class="porcelain">describe</span>
                    <span class="porcelain common">diff</span>
                    <span class="plumbing">diff-files</span>
                    <span class="plumbing">diff-index</span>
                    <span class="plumbing">diff-tree</span>
                    <span class="porcelain">difftool</span>
                    <span class="porcelain">fast-export</span>
                    <span class="porcelain">fast-import</span>
                    <span class="porcelain common">fetch</span>
                    <span class="plumbing">fetch-pack</span>
                    <span class="porcelain">filter-branch</span>
                    <span class="plumbing">fmt-merge-msg</span>
                    <span class="plumbing">for-each-ref</span>
                    <span class="porcelain">format-patch</span>
                    <span class="porcelain">fsck</span>
                    <span class="porcelain">gc</span>
                    <span class="porcelain">get-tar-commit-id</span>
                    <span class="porcelain">gitk</span>
                    <span class="porcelain">gitweb</span>
                    <span class="porcelain">grep</span>
                    <span class="porcelain">gui</span>
                    <span class="plumbing">hash-object</span>
                    <span class="porcelain">help</span>
                    <span class="plumbing">http-backend</span>
                    <span class="plumbing">http-fetch</span>
                    <span class="plumbing">http-push</span>
                    <span class="porcelain">imap-send</span>
                    <span class="plumbing">index-pack</span>
                    <span class="porcelain common">init</span>
                    <span class="porcelain">instaweb</span>
                    <span class="plumbing">interpret-trailers</span>
                    <span class="porcelain common">log</span>
                    <span class="plumbing">ls-files</span>
                    <span class="plumbing">ls-remote</span>
                    <span class="plumbing">ls-tree</span>
                    <span class="plumbing">mailinfo</span>
                    <span class="plumbing">mailsplit</span>
                    <span class="porcelain common">merge</span>
                    <span class="plumbing">merge-base</span>
                    <span class="plumbing">merge-file</span>
                    <span class="plumbing">merge-index</span>
                    <span class="plumbing">merge-one-file</span>
                    <span class="porcelain">merge-tree</span>
                    <span class="porcelain">mergetool</span>
                    <span class="plumbing">mktag</span>
                    <span class="plumbing">mktree</span>
                    <span class="porcelain">mv</span>
                    <span class="plumbing">name-rev</span>
                    <span class="porcelain">notes</span>
                    <span class="porcelain">p4</span>
                    <span class="plumbing">pack-objects</span>
                    <span class="plumbing">pack-redundant</span>
                    <span class="porcelain">pack-refs</span>
                    <span class="plumbing">parse-remote</span>
                    <span class="plumbing">patch-id</span>
                    <span class="porcelain">prune</span>
                    <span class="plumbing">prune-packed</span>
                    <span class="porcelain common">pull</span>
                    <span class="porcelain common">push</span>
                    <span class="porcelain">quiltimport</span>
                    <span class="plumbing">read-tree</span>
                    <span class="porcelain common">rebase</span>
                    <span class="plumbing">receive-pack</span>
                    <span class="porcelain">reflog</span>
                    <span class="porcelain">relink</span>
                    <span class="porcelain common">remote</span>
                    <span class="porcelain">repack</span>
                    <span class="porcelain">replace</span>
                    <span class="porcelain">request-pull</span>
                    <span class="porcelain">rerere</span>
                    <span class="porcelain common">reset</span>
                    <span class="plumbing">rev-list</span>
                    <span class="porcelain">rev-parse</span>
                    <span class="porcelain">revert</span>
                    <span class="porcelain">rm</span>
                    <span class="porcelain">send-email</span>
                    <span class="plumbing">send-pack</span>
                    <span class="plumbing">sh-i18n</span>
                    <span class="plumbing">sh-setup</span>
                    <span class="plumbing">shell</span>
                    <span class="porcelain">shortlog</span>
                    <span class="porcelain common">show</span>
                    <span class="porcelain">show-branch</span>
                    <span class="plumbing">show-index</span>
                    <span class="plumbing">show-ref</span>
                    <span class="porcelain">stash</span>
                    <span class="porcelain common">status</span>
                    <span class="plumbing">stripspace</span>
                    <span class="porcelain">submodule</span>
                    <span class="porcelain">svn</span>
                    <span class="plumbing">symbolic-ref</span>
                    <span class="porcelain common">tag</span>
                    <span class="plumbing">unpack-file</span>
                    <span class="plumbing">unpack-objects</span>
                    <span class="plumbing">update-index</span>
                    <span class="plumbing">update-ref</span>
                    <span class="plumbing">update-server-info</span>
                    <span class="plumbing">upload-archive</span>
                    <span class="plumbing">upload-pack</span>
                    <span class="plumbing">var</span>
                    <span class="porcelain">verify-commit</span>
                    <span class="plumbing">verify-pack</span>
                    <span class="porcelain">verify-tag</span>
                    <span class="porcelain">whatchanged</span>
                    <span class="porcelain">worktree</span>
                    <span class="plumbing">write-tree</span>
                </p>

                <span class="fragment"></span>
                <span class="fragment"></span>
                <span class="fragment"></span>

                <aside class="notes">
                    <ol>
                        <li>
                            These are the 150 or so commands Git supports. Add
                            arguments to the mix and you have an infinate amount
                            of combinations.
                        </li>
                        <li>
                            Commands can be split in two groups:
                            <ol>
                                <li>Porcelain commands</li>
                                <li>And plumbing commands</li>
                            </ol>

                            The difference between the two are that porcelain
                            commands are usually higher level, are often composed
                            of several plumbing commands and have a more stable
                            interface.
                        </li>
                        <li>
                            Most daily use of Git only involves less than 20
                            different commands, though.
                        </li>
                    </ol>
                </aside>
            </section>

            <section data-background="./images/git-jerk-remote.png"
                     data-background-size="contain"
                     data-background-color="#fff">
                <aside class="notes">
                    Due to the amount of commands in Git, comedy sites like
                    this have been created, which undeniably are very funny.

                    <a href="https://git-man-page-generator.lokaltog.net/#6c5d42c3ddead1f7bb6813eca9d9245e">
                        git-jerk-remote
                    </a>
                </aside>
            </section>

            <section data-background="./images/git-swallow-tree.png"
                     data-background-size="contain"
                     data-background-color="#fff">
                <aside class="notes">
                    <a href="http://git-man-page-generator.lokaltog.net/#885feef1f1e8bded594b1e36a023a58a">
                        git-swallow-tree
                    </a>
                </aside>
            </section>
        </div>
    </div>

    <script src="bower_components/reveal.js/lib/js/head.min.js"></script>
    <script src="bower_components/reveal.js/js/reveal.js"></script>
    <script src="bower_components/d3/d3.min.js"></script>
    <script src="js/graph.js"></script>
    <script>
        Reveal.initialize({
            width: 1920,
            height: 1080,
            margin: 0.1,
            controls: false,
            center: false,
            dependencies: [
                {
                    src: './bower_components/reveal.js/plugin/notes/notes.js',
                    async: true
                }
            ]
        });
        Reveal.addEventListener('slidechanged', drawGraph);
        Reveal.addEventListener('fragmentshown', drawGraph);
        Reveal.addEventListener('fragmenthidden', drawGraph);
        Reveal.addEventListener('pancakes', function() {
            Reveal.addEventListener('fragmentshown', function() {
                var step = Reveal.getIndices().f;
                var pancakes = document.querySelectorAll('.pancakes section.present img.pancake');
                if (!pancakes || pancakes.length != 2) {
                    Reveal.removeEventListener('fragmentshown', this);
                    return;
                }

                switch (step) {
                    case 0:
                        pancakes[0].style.left = '1%';
                        pancakes[1].style.left = '55%';
                        break;

                    case 1:
                        pancakes[0].style.left = '30%';
                        pancakes[1].style.left = '30%';
                        break;
                }
            });
        });
        Reveal.addEventListener('commands', function() {
            Reveal.addEventListener('fragmentshown', function() {
                var step = Reveal.getIndices().f;
                var commands = document.querySelectorAll('.commands section.present .git-commands span');
                if (!commands || commands.length == 0) {
                    Reveal.removeEventListener('commands', this);
                    return;
                }

                switch (step) {
                    case 0:
                        for (var command of commands) {
                            var className = command.getAttribute('class');
                            command.style = className.indexOf('porcelain') !== -1
                                ? 'opacity: 1'
                                : 'opacity: 0.2';
                        }
                        break;

                    case 1:
                        for (var command of commands) {
                            var className = command.getAttribute('class');
                            command.style = className.indexOf('plumbing') !== -1
                                ? 'opacity: 1'
                                : 'opacity: 0.2';
                        }
                        break;

                    case 2:
                        for (var command of commands) {
                            var className = command.getAttribute('class');
                            command.style = className.indexOf('common') !== -1
                                ? 'opacity: 1'
                                : 'opacity: 0.2';
                        }
                        break;
                }
            });
        });
    </script>
</body>
</html>
